<mxfile host="65bd71144e">
    <diagram id="Lqc5VTTtfE9WFwVzX8_v" name="ページ1">
        <mxGraphModel dx="954" dy="599" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="zESGBfAv8kfooqxQL0nU-47" value="" style="rounded=0;whiteSpace=wrap;html=1;fontColor=#00CC66;" parent="1" vertex="1">
                    <mxGeometry x="20" y="40" width="470" height="560" as="geometry"/>
                </mxCell>
                <mxCell id="zESGBfAv8kfooqxQL0nU-1" value="&lt;b&gt;equations.py&lt;/b&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
                    <mxGeometry x="280" y="60" width="120" height="210" as="geometry"/>
                </mxCell>
                <mxCell id="zESGBfAv8kfooqxQL0nU-2" value="calc_c_hat" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="zESGBfAv8kfooqxQL0nU-1" vertex="1">
                    <mxGeometry y="30" width="120" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="zESGBfAv8kfooqxQL0nU-3" value="calc_Pu_hat" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="zESGBfAv8kfooqxQL0nU-1" vertex="1">
                    <mxGeometry y="60" width="120" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="zESGBfAv8kfooqxQL0nU-4" value="calc_piu_hat" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="zESGBfAv8kfooqxQL0nU-1" vertex="1">
                    <mxGeometry y="90" width="120" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="zESGBfAv8kfooqxQL0nU-5" value="calc_Xf_prime" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="zESGBfAv8kfooqxQL0nU-1" vertex="1">
                    <mxGeometry y="120" width="120" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="zESGBfAv8kfooqxQL0nU-8" value="calc_Xm_prime" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="zESGBfAv8kfooqxQL0nU-1" vertex="1">
                    <mxGeometry y="150" width="120" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="zESGBfAv8kfooqxQL0nU-9" value="calc_td_prime" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="zESGBfAv8kfooqxQL0nU-1" vertex="1">
                    <mxGeometry y="180" width="120" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="zESGBfAv8kfooqxQL0nU-35" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#000000;" parent="1" source="zESGBfAv8kfooqxQL0nU-10" target="zESGBfAv8kfooqxQL0nU-20" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="zESGBfAv8kfooqxQL0nU-10" value="&lt;b&gt;models.py&lt;/b&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
                    <mxGeometry x="40" y="60" width="160" height="330" as="geometry"/>
                </mxCell>
                <mxCell id="zESGBfAv8kfooqxQL0nU-11" value="&lt;b&gt;ModelParams&lt;/b&gt;&lt;br&gt;&lt;ul&gt;&lt;li&gt;check_consistency&lt;/li&gt;&lt;li&gt;save_to_npz&lt;/li&gt;&lt;li&gt;load_from_npz&lt;/li&gt;&lt;/ul&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="zESGBfAv8kfooqxQL0nU-10" vertex="1">
                    <mxGeometry y="30" width="160" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="zESGBfAv8kfooqxQL0nU-12" value="&lt;b&gt;ModelShocks&lt;/b&gt;&lt;br&gt;&lt;ul&gt;&lt;li&gt;check_consistency&lt;/li&gt;&lt;li&gt;save_to_npz&lt;/li&gt;&lt;li&gt;load_from_npz&lt;/li&gt;&lt;/ul&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="zESGBfAv8kfooqxQL0nU-10" vertex="1">
                    <mxGeometry y="130" width="160" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="zESGBfAv8kfooqxQL0nU-13" value="&lt;b&gt;ModelSol&lt;/b&gt;&lt;br&gt;&lt;ul&gt;&lt;li&gt;save_to_npz&lt;/li&gt;&lt;li&gt;load_from_npz&lt;/li&gt;&lt;/ul&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="zESGBfAv8kfooqxQL0nU-10" vertex="1">
                    <mxGeometry y="230" width="160" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="zESGBfAv8kfooqxQL0nU-18" value="&lt;b&gt;Usage&lt;/b&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="zESGBfAv8kfooqxQL0nU-10" vertex="1">
                    <mxGeometry y="300" width="160" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="zESGBfAv8kfooqxQL0nU-20" value="&lt;b&gt;solvers.py&lt;/b&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
                    <mxGeometry x="50" y="450" width="140" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="zESGBfAv8kfooqxQL0nU-21" value="solve_price_and_cost" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="zESGBfAv8kfooqxQL0nU-20" vertex="1">
                    <mxGeometry y="30" width="140" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="zESGBfAv8kfooqxQL0nU-22" value="solve_X_prime" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="zESGBfAv8kfooqxQL0nU-20" vertex="1">
                    <mxGeometry y="60" width="140" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="zESGBfAv8kfooqxQL0nU-23" value="&lt;font color=&quot;#999999&quot;&gt;solve_equilibrium&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="zESGBfAv8kfooqxQL0nU-20" vertex="1">
                    <mxGeometry y="90" width="140" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="zESGBfAv8kfooqxQL0nU-24" value="&lt;font color=&quot;#000000&quot;&gt;&lt;b&gt;functions.py&lt;/b&gt;&lt;/font&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
                    <mxGeometry x="520" y="510" width="160" height="90" as="geometry"/>
                </mxCell>
                <mxCell id="zESGBfAv8kfooqxQL0nU-25" value="&lt;font color=&quot;#000000&quot;&gt;generate_rand_params&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;fontColor=#999999;" parent="zESGBfAv8kfooqxQL0nU-24" vertex="1">
                    <mxGeometry y="30" width="160" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="GU4OtRPrmDC_MldX66Ut-6" value="&lt;font style=&quot;color: rgb(153, 153, 153);&quot;&gt;generate_simple_params&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="zESGBfAv8kfooqxQL0nU-24" vertex="1">
                    <mxGeometry y="60" width="160" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="zESGBfAv8kfooqxQL0nU-28" value="" style="endArrow=classic;html=1;rounded=0;fontColor=#000000;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="200" y="210" as="sourcePoint"/>
                        <mxPoint x="280" y="210" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="zESGBfAv8kfooqxQL0nU-30" value="" style="endArrow=classic;html=1;rounded=0;fontColor=#000000;exitX=1.013;exitY=1.021;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitPerimeter=0;" parent="1" source="zESGBfAv8kfooqxQL0nU-13" target="zESGBfAv8kfooqxQL0nU-24" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="310" y="460" as="sourcePoint"/>
                        <mxPoint x="360" y="410" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="600" y="360"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="zESGBfAv8kfooqxQL0nU-31" value="&lt;b&gt;optimization.py&lt;/b&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
                    <mxGeometry x="280" y="450" width="160" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="FPuGL5NDelWNRy-ppYHN-1" value="reconstruct_w_hat" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="zESGBfAv8kfooqxQL0nU-31" vertex="1">
                    <mxGeometry y="30" width="160" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="zESGBfAv8kfooqxQL0nU-32" value="&lt;font color=&quot;#999999&quot;&gt;objective_w_hat&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;fontColor=#000000;" parent="zESGBfAv8kfooqxQL0nU-31" vertex="1">
                    <mxGeometry y="60" width="160" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="zESGBfAv8kfooqxQL0nU-33" value="objective_w_hat_reduced" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;fontColor=#000000;" parent="zESGBfAv8kfooqxQL0nU-31" vertex="1">
                    <mxGeometry y="90" width="160" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="zESGBfAv8kfooqxQL0nU-37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#000000;" parent="1" source="zESGBfAv8kfooqxQL0nU-22" target="zESGBfAv8kfooqxQL0nU-32" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="zESGBfAv8kfooqxQL0nU-40" value="&lt;font color=&quot;#000000&quot;&gt;&lt;b&gt;toy_model.py&lt;/b&gt;&lt;/font&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#FFE6CC;strokeWidth=3;" parent="1" vertex="1">
                    <mxGeometry x="40" y="660" width="400" height="400" as="geometry"/>
                </mxCell>
                <mxCell id="zESGBfAv8kfooqxQL0nU-41" value="&lt;font color=&quot;#000000&quot;&gt;reconstruct_w_hat&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;fontColor=#999999;" parent="zESGBfAv8kfooqxQL0nU-40" vertex="1">
                    <mxGeometry y="30" width="400" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="zESGBfAv8kfooqxQL0nU-42" value="main_old" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;fontColor=#999999;" parent="zESGBfAv8kfooqxQL0nU-40" vertex="1">
                    <mxGeometry y="60" width="400" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="zESGBfAv8kfooqxQL0nU-43" value="&lt;font color=&quot;#000000&quot;&gt;main&lt;/font&gt;&lt;br&gt;&lt;ol style=&quot;&quot;&gt;&lt;li style=&quot;&quot;&gt;&lt;font color=&quot;#9933ff&quot;&gt;Generate random parameters&lt;/font&gt;&lt;font color=&quot;#000000&quot;&gt; as the &lt;/font&gt;&lt;font color=&quot;#ff0000&quot;&gt;ModelParams&lt;/font&gt;&lt;font color=&quot;#000000&quot;&gt; object&lt;/font&gt;&lt;/li&gt;&lt;li style=&quot;color: rgb(0, 0, 0);&quot;&gt;Solve for the benchmark equilibrium&lt;/li&gt;&lt;ol style=&quot;&quot;&gt;&lt;li style=&quot;color: rgb(0, 0, 0);&quot;&gt;Construct &quot;shocks&quot; with ones (specifying &quot;no shock&quot;)&lt;/li&gt;&lt;li style=&quot;color: rgb(0, 0, 0);&quot;&gt;Define callback_func&lt;/li&gt;&lt;ul style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;li&gt;It raises EarlyStopException if the function value is below the tolerance&lt;/li&gt;&lt;/ul&gt;&lt;li style=&quot;&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;Minimize &lt;/font&gt;&lt;font color=&quot;#ffd966&quot;&gt;the difference btw endogenous trade deficit and exogenous value&lt;/font&gt;&lt;font color=&quot;#000000&quot;&gt; of it by Nelder-Mead method&lt;/font&gt;&lt;/li&gt;&lt;ol style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;li&gt;If Optimization finishes, use the optimal value as w_hat&lt;/li&gt;&lt;li&gt;If Early Stop Exception is called, use the value at that point as w_hat&lt;/li&gt;&lt;/ol&gt;&lt;li style=&quot;&quot;&gt;&lt;font color=&quot;#00cc66&quot;&gt;Construct other endogenous variables&lt;/font&gt;&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt; and save as the benchmark solution&lt;/span&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/ol&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;fontColor=#999999;" parent="zESGBfAv8kfooqxQL0nU-40" vertex="1">
                    <mxGeometry y="90" width="400" height="310" as="geometry"/>
                </mxCell>
                <mxCell id="GU4OtRPrmDC_MldX66Ut-1" value="&lt;b&gt;equations_matrix.py&lt;/b&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" parent="1" vertex="1">
                    <mxGeometry x="280" y="280" width="120" height="60" as="geometry">
                        <mxRectangle x="280" y="380" width="160" height="30" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="GU4OtRPrmDC_MldX66Ut-2" value="calc_X" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="GU4OtRPrmDC_MldX66Ut-1" vertex="1">
                    <mxGeometry y="30" width="120" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="GU4OtRPrmDC_MldX66Ut-5" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" target="GU4OtRPrmDC_MldX66Ut-2" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="200" y="325" as="sourcePoint"/>
                        <mxPoint x="440" y="310" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="GU4OtRPrmDC_MldX66Ut-7" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;jumpStyle=arc;" parent="1" source="zESGBfAv8kfooqxQL0nU-9" target="zESGBfAv8kfooqxQL0nU-20" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="390" y="320" as="sourcePoint"/>
                        <mxPoint x="440" y="270" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="240" y="255"/>
                            <mxPoint x="240" y="420"/>
                            <mxPoint x="120" y="420"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="GU4OtRPrmDC_MldX66Ut-8" value="" style="endArrow=classic;html=1;rounded=0;jumpStyle=arc;exitX=0.513;exitY=0.967;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="GU4OtRPrmDC_MldX66Ut-2" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="390" y="320" as="sourcePoint"/>
                        <mxPoint x="342" y="450" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="GU4OtRPrmDC_MldX66Ut-9" value="" style="endArrow=classic;html=1;rounded=0;jumpStyle=arc;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="zESGBfAv8kfooqxQL0nU-9" target="zESGBfAv8kfooqxQL0nU-32" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="390" y="320" as="sourcePoint"/>
                        <mxPoint x="440" y="270" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="470" y="255"/>
                            <mxPoint x="470" y="525"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="GU4OtRPrmDC_MldX66Ut-12" value="&lt;font color=&quot;#000000&quot;&gt;&lt;b&gt;main.py&lt;/b&gt;&lt;/font&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#FFCCCC;strokeWidth=3;" parent="1" vertex="1">
                    <mxGeometry x="480" y="660" width="400" height="360" as="geometry"/>
                </mxCell>
                <mxCell id="GU4OtRPrmDC_MldX66Ut-13" value="&lt;font color=&quot;#000000&quot;&gt;EarlyStopException&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;fontColor=#999999;" parent="GU4OtRPrmDC_MldX66Ut-12" vertex="1">
                    <mxGeometry y="30" width="400" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="GU4OtRPrmDC_MldX66Ut-14" value="&lt;font color=&quot;#000000&quot;&gt;init_worker&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;fontColor=#999999;" parent="GU4OtRPrmDC_MldX66Ut-12" vertex="1">
                    <mxGeometry y="60" width="400" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="GU4OtRPrmDC_MldX66Ut-19" value="&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;run_counterfactual&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;labelBackgroundColor=#EEEEEE;fontColor=#000000;" parent="GU4OtRPrmDC_MldX66Ut-12" vertex="1">
                    <mxGeometry y="90" width="400" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="GU4OtRPrmDC_MldX66Ut-15" value="&lt;font color=&quot;#000000&quot;&gt;main&lt;/font&gt;&lt;br&gt;&lt;ol style=&quot;&quot;&gt;&lt;li&gt;&lt;font&gt;&lt;font style=&quot;border-color: var(--border-color); background-color: initial;&quot; color=&quot;#000000&quot;&gt;Read data from &quot;real_data_2017.npz&quot; and construct a&amp;nbsp;&lt;/font&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;font style=&quot;border-color: var(--border-color); background-color: initial;&quot;&gt;ModelParams&lt;/font&gt;&lt;font style=&quot;border-color: var(--border-color); background-color: initial;&quot;&gt;&amp;nbsp;&lt;/font&gt;&lt;/font&gt;&lt;font style=&quot;border-color: var(--border-color); background-color: initial;&quot; color=&quot;#000000&quot;&gt;object&lt;/font&gt;&lt;br&gt;&lt;/font&gt;&lt;/li&gt;&lt;li style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;&lt;font style=&quot;border-color: var(--border-color); background-color: initial;&quot; color=&quot;#000000&quot;&gt;Solve for the benchmark equilibrium&lt;/font&gt;&lt;/font&gt;&lt;/li&gt;&lt;ul&gt;&lt;li&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;Once we obtain the benchmark equilibrium, we can read them instead of colving from scrach&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;li style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;&lt;font style=&quot;border-color: var(--border-color); background-color: initial;&quot; color=&quot;#000000&quot;&gt;Solve for counterfactual equilibria&lt;/font&gt;&lt;/font&gt;&lt;/li&gt;&lt;ol&gt;&lt;li style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;&lt;font style=&quot;border-color: var(--border-color); background-color: initial;&quot; color=&quot;#000000&quot;&gt;Generate 3 types of lambda shocks (country-specific, sector-specific, idiosincratic for 10 times each&lt;/font&gt;&lt;/font&gt;&lt;/li&gt;&lt;li style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;&lt;font style=&quot;border-color: var(--border-color); background-color: initial;&quot; color=&quot;#000000&quot;&gt;Generate dm_hat (1 and 2)&lt;/font&gt;&lt;/font&gt;&lt;/li&gt;&lt;li style=&quot;color: rgb(0, 0, 0);&quot;&gt;Solve for each lambda_hat and dm_hat&lt;/li&gt;&lt;/ol&gt;&lt;/ol&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;fontColor=#999999;" parent="GU4OtRPrmDC_MldX66Ut-12" vertex="1">
                    <mxGeometry y="120" width="400" height="240" as="geometry"/>
                </mxCell>
                <mxCell id="GU4OtRPrmDC_MldX66Ut-18" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 255, 255);&quot;&gt;real_data_2017.npz&lt;/font&gt;&lt;/b&gt;" style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;fillColor=#647687;strokeColor=#314354;fontColor=#ffffff;" parent="1" vertex="1">
                    <mxGeometry x="710" y="520" width="120" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="GU4OtRPrmDC_MldX66Ut-20" value="" style="endArrow=block;html=1;rounded=0;fontColor=#000000;jumpStyle=arc;entryX=0.3;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;endFill=0;exitX=0.639;exitY=0.999;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" target="GU4OtRPrmDC_MldX66Ut-12" edge="1" source="zESGBfAv8kfooqxQL0nU-47">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="330" y="630" as="sourcePoint"/>
                        <mxPoint x="440" y="700" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="320" y="630"/>
                            <mxPoint x="600" y="630"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="GU4OtRPrmDC_MldX66Ut-21" value="" style="endArrow=block;html=1;rounded=0;fontColor=#000000;jumpStyle=arc;endFill=0;" parent="1" edge="1">
                    <mxGeometry x="-0.6667" y="150" width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="770" y="590" as="sourcePoint"/>
                        <mxPoint x="769.5" y="660" as="targetPoint"/>
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="8" value="&lt;span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;b&gt;real_data_application.ipynb&lt;/b&gt;&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;horizontal=1;fillColor=#d0cee2;strokeColor=#56517e;" vertex="1" parent="1">
                    <mxGeometry x="680" y="420" width="180" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="9" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="8" target="GU4OtRPrmDC_MldX66Ut-18">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="460" y="530" as="sourcePoint"/>
                        <mxPoint x="510" y="480" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="10" value="" style="group" vertex="1" connectable="0" parent="1">
                    <mxGeometry x="520" y="40" width="180" height="150" as="geometry"/>
                </mxCell>
                <mxCell id="zESGBfAv8kfooqxQL0nU-55" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#eeeeee;strokeColor=#36393d;" parent="10" vertex="1">
                    <mxGeometry width="180" height="150" as="geometry"/>
                </mxCell>
                <mxCell id="GU4OtRPrmDC_MldX66Ut-11" value="Structure" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="10" vertex="1">
                    <mxGeometry x="60" y="5" width="60" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="zESGBfAv8kfooqxQL0nU-49" value="" style="endArrow=classic;html=1;rounded=0;fontColor=#00CC66;" parent="10" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="40" y="139.30999999999995" as="sourcePoint"/>
                        <mxPoint x="140" y="139.30999999999995" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="zESGBfAv8kfooqxQL0nU-50" value="&lt;font color=&quot;#000000&quot;&gt;Dependency&lt;/font&gt;" style="edgeLabel;resizable=0;html=1;align=center;verticalAlign=middle;fontColor=#00CC66;labelBackgroundColor=#EEEEEE;" parent="zESGBfAv8kfooqxQL0nU-49" connectable="0" vertex="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="zESGBfAv8kfooqxQL0nU-51" value="&lt;b&gt;py file&lt;/b&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#f9f7ed;strokeColor=#36393d;" parent="10" vertex="1">
                    <mxGeometry x="20" y="35" width="140" height="90" as="geometry"/>
                </mxCell>
                <mxCell id="zESGBfAv8kfooqxQL0nU-52" value="Currently used" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;fontColor=#000000;" parent="zESGBfAv8kfooqxQL0nU-51" vertex="1">
                    <mxGeometry y="30" width="140" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="zESGBfAv8kfooqxQL0nU-53" value="&lt;font color=&quot;#999999&quot;&gt;Not used (legacy)&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;fontColor=#000000;" parent="zESGBfAv8kfooqxQL0nU-51" vertex="1">
                    <mxGeometry y="60" width="140" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="11" value="" style="endArrow=block;html=1;rounded=0;fontColor=#000000;jumpStyle=arc;entryX=0.3;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;endFill=0;" edge="1" parent="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="200" y="600" as="sourcePoint"/>
                        <mxPoint x="200" y="660" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="12" value="" style="endArrow=block;html=1;rounded=0;fontColor=#000000;jumpStyle=arc;entryX=0.601;entryY=-0.007;entryDx=0;entryDy=0;entryPerimeter=0;endFill=0;" edge="1" parent="1" target="zESGBfAv8kfooqxQL0nU-40">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="599.5" y="600" as="sourcePoint"/>
                        <mxPoint x="599.5" y="660" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="600" y="620"/>
                            <mxPoint x="280" y="620"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>